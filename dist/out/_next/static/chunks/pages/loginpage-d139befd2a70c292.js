(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{9341:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/loginpage",function(){return t(6432)}])},679:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return _}});var o=t(4051),r=t.n(o),a=t(5893),s=t(4514),i=t.n(s),c=t(1163),u=t(7294),l=t(5617),f=(t(8090),t(9669)),m=t.n(f);function d(n,e,t,o,r,a,s){try{var i=n[a](s),c=i.value}catch(u){return void t(u)}i.done?e(c):Promise.resolve(c).then(o,r)}function p(n){return function(){var e=this,t=arguments;return new Promise((function(o,r){var a=n.apply(e,t);function s(n){d(a,o,r,s,i,"next",n)}function i(n){d(a,o,r,s,i,"throw",n)}s(void 0)}))}}function _(){var n=(0,u.useState)(""),e=n[0],t=n[1],o=(0,u.useState)(""),s=o[0],f=o[1],d=(0,c.useRouter)();(0,l.I0)();function _(){return(_=p(r().mark((function n(t){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),!e||!s){n.next=6;break}return n.next=4,m().post("/login",{username:e,password:s}).then((function(n){n.data.access_token?(localStorage.setItem("access_token",n.data.access_token),console.log(n.data.access_token)):console.log("no token")})).catch((function(n){return console.log(n)}));case 4:return n.next=6,m().get("/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((function(n){console.log(n),localStorage.setItem("_id",n.data._id),localStorage.setItem("role",n.data.role.trim()),"Admin"===localStorage.getItem("role").trim()&&d.push("adminPanel")})).catch((function(n){return console.log(n)}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,a.jsxs)("form",{className:i().form,children:[(0,a.jsx)("label",{id:"username",children:"Username:"}),(0,a.jsx)("input",{value:e,onChange:function(n){return t(n.target.value)},className:i().form_input,type:"text",name:"username"}),(0,a.jsx)("label",{id:"password",children:"Password:"}),(0,a.jsx)("input",{value:s,onChange:function(n){f(n.target.value)},className:i().form_input,type:"password",name:"password"}),(0,a.jsx)("button",{onClick:function(n){return function(n){return _.apply(this,arguments)}(n)},className:i().form_button,children:"Login"})]})}},6432:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return c}});var o=t(5893),r=t(9008),a=t(679),s=t(7490),i=t.n(s);function c(){return(0,o.jsxs)("div",{className:i().form_container,children:[(0,o.jsxs)(r.default,{children:[(0,o.jsx)("title",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),(0,o.jsx)("meta",{name:"description",content:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.svg"}),(0,o.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Bad+Script&family=Montserrat:wght@400;600&display=swap",rel:"stylesheet"}),(0,o.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"})]}),(0,o.jsx)(a.default,{})]})}},4514:function(n){n.exports={form:"AdminLogin_form__DsLyN",form_input:"AdminLogin_form_input__iQI9X",form_button:"AdminLogin_form_button__BLdxk"}},7490:function(n){n.exports={form_container:"AdminLoginPage_form_container__aRSZN"}},9008:function(n,e,t){n.exports=t(5443)},1163:function(n,e,t){n.exports=t(387)}},function(n){n.O(0,[669,774,888,179],(function(){return e=9341,n(n.s=e);var e}));var e=n.O();_N_E=e}]);