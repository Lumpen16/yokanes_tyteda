(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{9391:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/adminPanel/Menu",function(){return t(9551)}])},9551:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return m}});var i=t(4051),s=t.n(i),r=t(5893),u=t(6482),a=t.n(u),c=t(7294),o=t(9669),d=t.n(o);function l(n,e,t,i,s,r,u){try{var a=n[r](u),c=a.value}catch(o){return void t(o)}a.done?e(c):Promise.resolve(c).then(i,s)}function h(n){return function(){var e=this,t=arguments;return new Promise((function(i,s){var r=n.apply(e,t);function u(n){l(r,i,s,u,a,"next",n)}function a(n){l(r,i,s,u,a,"throw",n)}u(void 0)}))}}function _(n){var e=n.img,t=n.name,i=n.id,u=n.limit,o=(0,c.useState)(!1),l=o[0],_=o[1];function m(){return(m=h(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d().get("/dish/delete?id=".concat(i));case 2:_(!0);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,r.jsxs)("div",{className:a().menu_dishes_card,style:{display:l?"none":"block"},children:[(0,r.jsx)("img",{src:e}),(0,r.jsx)("h1",{children:t}),(0,r.jsxs)("p",{children:["\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435: ",u]}),(0,r.jsx)("button",{className:a().menu_save,onClick:function(){return m.apply(this,arguments)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}function m(){var n=(0,c.useState)("\u041c\u0435\u043d\u044e-1"),e=n[0],t=n[1],i=(0,c.useState)([]),u=i[0],o=i[1],l=(0,c.useState)(!1),m=(l[0],l[1],(0,c.useState)("")),p=m[0],f=m[1],x=(0,c.useState)("\u0421\u0430\u043b\u0430\u0442"),j=x[0],v=x[1],g=(0,c.useState)("250"),w=g[0],N=g[1],y=void 0;function k(){return(k=h(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d().get("/dish").then((function(n){return o(n.data)}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(){return(b=h(s().mark((function n(){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("name",p),t.append("image",y),t.append("type",j),t.append("limit",w),t.append("week",e),n.next=8,d().post("/dish/create",t).then((function(n){return o(u.concat([n.data]))}));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,c.useEffect)((function(){!function(){k.apply(this,arguments)}()}),[]),(0,r.jsxs)("div",{className:a().menu_container,children:[(0,r.jsxs)("select",{value:e,onChange:function(n){return t(n.target.value)},className:a().menu_select,children:[(0,r.jsx)("option",{children:"\u041c\u0435\u043d\u044e-1"}),(0,r.jsx)("option",{children:"\u041c\u0435\u043d\u044e-2"}),(0,r.jsx)("option",{children:"\u041c\u0435\u043d\u044e-3"}),(0,r.jsx)("option",{children:"\u041c\u0435\u043d\u044e-4"})]}),(0,r.jsx)("button",{className:a().menu_save,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:e}),(0,r.jsxs)("div",{className:a().menu_dishadd_container,children:[(0,r.jsxs)("h3",{children:["\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u043b\u044e\u0434\u0430 \u0432 ",e]}),(0,r.jsx)("input",{className:a().menu_input,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u043b\u044e\u0434\u0430",value:p,onChange:function(n){return f(n.target.value)}}),(0,r.jsx)("label",{id:"dish_type",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0431\u043b\u044e\u0434\u0430"}),(0,r.jsxs)("select",{className:a().menu_input,id:"dish_type",name:"dish_type",value:j,onChange:function(n){return v(n.target.value)},children:[(0,r.jsx)("option",{children:"\u0421\u0430\u043b\u0430\u0442"}),(0,r.jsx)("option",{children:"\u041f\u0435\u0440\u0432\u043e\u0435"}),(0,r.jsx)("option",{children:"\u0413\u0430\u0440\u043d\u0438\u0440"}),(0,r.jsx)("option",{children:"\u0412\u0442\u043e\u0440\u043e\u0435"}),(0,r.jsx)("option",{children:"\u0421\u043e\u0443\u0441"}),(0,r.jsx)("option",{children:"\u041d\u0430\u043f\u0438\u0442\u043e\u043a"})]}),(0,r.jsx)("label",{id:"dish_limit",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u0438\u043c\u0438\u0442 \u0431\u043b\u044e\u0434\u0430"}),(0,r.jsxs)("select",{className:a().menu_input,id:"dish_limit",name:"dish_limit",value:w,onChange:function(n){return N(n.target.value)},children:[(0,r.jsx)("option",{children:"250"}),(0,r.jsx)("option",{children:"350"}),(0,r.jsx)("option",{children:"450"})]}),(0,r.jsx)("label",{id:"dish_img",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0431\u043b\u044e\u0434\u0430"}),(0,r.jsx)("input",{className:a().menu_input,id:"dish_img",name:"dish_img",type:"file",onChange:function(n){return function(n){y=n.target.files[0]}(n)}}),(0,r.jsx)("button",{className:a().menu_save,onClick:function(){return b.apply(this,arguments)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043b\u044e\u0434\u043e"})]}),(0,r.jsx)("div",{className:a().menu_dishes,children:u.map((function(n){return n.week===e?(0,r.jsx)(_,{id:n._id,limit:n.limit,img:n.image,name:n.name},n.id):null}))})]})]})}},6482:function(n){n.exports={menu_container:"Menu_menu_container__9PRm8",menu_select:"Menu_menu_select__nIuxe",menu_save:"Menu_menu_save__3hCUR",menu_dishadd_container:"Menu_menu_dishadd_container__FtHXg",menu_input:"Menu_menu_input__2Isos",menu_dishes:"Menu_menu_dishes__bG1uK",menu_dishes_card:"Menu_menu_dishes_card__m__tW"}}},function(n){n.O(0,[669,774,888,179],(function(){return e=9391,n(n.s=e);var e}));var e=n.O();_N_E=e}]);