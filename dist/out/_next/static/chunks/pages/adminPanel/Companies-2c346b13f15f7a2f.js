(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{9478:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/adminPanel/Companies",function(){return i(3971)}])},3971:function(n,e,i){"use strict";i.r(e),i.d(e,{default:function(){return d}});var t=i(4051),a=i.n(t),s=i(5893),o=i(7136),c=i.n(o),r=i(1173),u=(i(9669),i(8090)),_=i(5617),m=i(7294);function p(n,e,i,t,a,s,o){try{var c=n[s](o),r=c.value}catch(u){return void i(u)}c.done?e(r):Promise.resolve(r).then(t,a)}function l(n){return function(){var e=this,i=arguments;return new Promise((function(t,a){var s=n.apply(e,i);function o(n){p(s,t,a,o,c,"next",n)}function c(n){p(s,t,a,o,c,"throw",n)}o(void 0)}))}}function d(){var n=(0,_.I0)(),e=[],i=(0,m.useState)([]),t=i[0],o=i[1],p=(0,m.useState)([]),d=p[0],f=p[1],h=(0,m.useState)(""),x=h[0],v=h[1];function b(){return(b=l(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/company");case 2:return n.next=4,n.sent.json();case 4:e=n.sent,o(e),console.log(t),f(e.map((function(n){return(0,s.jsx)(r.default,{admin:!0,id:n._id,name:n.name,img:n.image},n._id)})));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var g=(0,m.useCallback)((function(){(function(){return b.apply(this,arguments)})().then()}),[]);return(0,m.useEffect)((function(){g(),console.log(d)}),[]),(0,m.useEffect)((function(){""===x?f(t.map((function(n){return(0,s.jsx)(r.default,{admin:!0,id:n._id,name:n.name,img:n.image,countUsers:n.users.length},n._id)}))):(console.log(x),f(t.filter((function(n){return x.includes(n.name)})).map((function(n){return(0,s.jsx)(r.default,{admin:!0,id:n._id,name:n.name,img:n.image,countUsers:n.users.length},n._id)}))))}),[x]),(0,s.jsxs)("div",{className:c().companies_container,children:[(0,s.jsx)("div",{style:{fontSize:"48px",color:"#48484a"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"}),(0,s.jsxs)("div",{style:{fontSize:"32px",color:"#48484a"},children:["\u0412\u0441\u0435\u0433\u043e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439: ",t.length]}),(0,s.jsxs)("div",{className:c().companies_button_container,children:[(0,s.jsx)("button",{onClick:function(){return n((0,u.$J)())},className:c().companies_button,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e +"}),(0,s.jsx)("button",{onClick:function(){return n((0,u.CW)())},className:c().companies_button,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0430 +"})]}),(0,s.jsx)("input",{onChange:function(n){v(n.target.value)},className:c().companies_search,value:x,type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),(0,s.jsx)("div",{className:c().companies_list_container,children:d})]})}},1173:function(n,e,i){"use strict";i.r(e),i.d(e,{default:function(){return m}});var t=i(5893),a=i(6481),s=i.n(a),o=i(7294),c=i(5617),r=i(8090),u=i(9669),_=i.n(u);function m(n){var e=n.id,i=n.name,a=n.img,u=n.admin,m=void 0!==u&&u,p=n.countUsers,l=(0,o.useState)(!1),d=(l[0],l[1],(0,c.I0)()),f=(0,o.useState)(!1),h=f[0],x=f[1],v=(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",margin:"0 auto",alignItems:"flex-end"},children:[(0,t.jsxs)("div",{children:["\u041a\u043e\u043b-\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432: ",p]}),(0,t.jsx)("button",{onClick:function(){_().get("/company/delete?id=".concat(e)),x(!0)},className:s().companies_button,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}),b=(0,t.jsx)("button",{onClick:function(n){return function(n){n.preventDefault(),d((0,r.$J)())}(n)},className:s().companies_button,children:"\u0412\u043e\u0439\u0442\u0438"});return(0,t.jsxs)("div",{style:{display:h?"none":"block"},className:s().companies_card,children:[(0,t.jsx)("img",{className:s().companies_img,src:a}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontSize:"32px",color:"#48484a"},children:i||"tmp"}),m?v:b]})]})}},7136:function(n){n.exports={companies_container:"Companies_companies_container__6ZYj1",companies_button:"Companies_companies_button__cqNzB",companies_button_container:"Companies_companies_button_container__jqLzJ",companies_search:"Companies_companies_search__r9MmP",companies_list_container:"Companies_companies_list_container__UO2jf"}},6481:function(n){n.exports={companies_container:"Companies_companies_container__X00Ov",companies_search_bar:"Companies_companies_search_bar____NQy",companies_search_bar_input:"Companies_companies_search_bar_input__mKIMR",companies_companies:"Companies_companies_companies__iC5ly",companies_card:"Companies_companies_card__ap9D3",companies_button:"Companies_companies_button__egR_Q",companies_img:"Companies_companies_img__ZbR9q"}}},function(n){n.O(0,[669,774,888,179],(function(){return e=9478,n(n.s=e);var e}));var e=n.O();_N_E=e}]);