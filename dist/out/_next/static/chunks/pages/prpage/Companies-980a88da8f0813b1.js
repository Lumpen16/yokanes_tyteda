(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{4891:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/prpage/Companies",function(){return i(9307)}])},9307:function(n,e,i){"use strict";i.r(e),i.d(e,{default:function(){return p}});var a=i(4051),t=i.n(a),s=i(5893),c=i(7294),o=i(6481),r=i.n(o),u=i(1173);function m(n,e,i,a,t,s,c){try{var o=n[s](c),r=o.value}catch(u){return void i(u)}o.done?e(r):Promise.resolve(r).then(a,t)}function _(n){return function(){var e=this,i=arguments;return new Promise((function(a,t){var s=n.apply(e,i);function c(n){m(s,a,t,c,o,"next",n)}function o(n){m(s,a,t,c,o,"throw",n)}c(void 0)}))}}function p(){var n=[],e=(0,c.useState)([]),i=e[0],a=e[1],o=(0,c.useState)([]),m=o[0],p=o[1],l=(0,c.useState)(""),d=l[0],f=l[1];function h(){return(h=_(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/company");case 2:return e.next=4,e.sent.json();case 4:n=e.sent,a(n.map((function(n){return(0,s.jsx)(u.default,{id:n._id,name:n.name,img:n.image},n._id)}))),p(n),console.log(m);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=(0,c.useCallback)((function(){!function(){h.apply(this,arguments)}()}),[]);return(0,c.useEffect)((function(){v(),console.log(i)}),[]),(0,c.useEffect)((function(){""===d?a(m.map((function(n){return(0,s.jsx)(u.default,{id:n._id,name:n.name,img:n.image},n._id)}))):(console.log(d),a(m.filter((function(n){d.includes(n.name)})).map((function(n){return(0,s.jsx)(u.default,{admin:!0,id:n._id,name:n.name,img:n.image},n._id)}))))}),[d]),(0,s.jsxs)("div",{className:r().companies_container,children:[(0,s.jsx)("input",{onChange:function(n){return f(n.target.value)},value:d,className:r().companies_search_bar_input,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",type:"text"}),(0,s.jsx)("div",{className:r().companies_companies,children:i})]})}},1173:function(n,e,i){"use strict";i.r(e),i.d(e,{default:function(){return _}});var a=i(5893),t=i(6481),s=i.n(t),c=i(7294),o=i(5617),r=i(8090),u=i(9669),m=i.n(u);function _(n){var e=n.id,i=n.name,t=n.img,u=n.admin,_=void 0!==u&&u,p=n.countUsers,l=(0,c.useState)(!1),d=(l[0],l[1],(0,o.I0)()),f=(0,c.useState)(!1),h=f[0],v=f[1],x=(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",margin:"0 auto",alignItems:"flex-end"},children:[(0,a.jsxs)("div",{children:["\u041a\u043e\u043b-\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432: ",p]}),(0,a.jsx)("button",{onClick:function(){m().get("/company/delete?id=".concat(e)),v(!0)},className:s().companies_button,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}),g=(0,a.jsx)("button",{onClick:function(n){return function(n){n.preventDefault(),d((0,r.$J)())}(n)},className:s().companies_button,children:"\u0412\u043e\u0439\u0442\u0438"});return(0,a.jsxs)("div",{style:{display:h?"none":"block"},className:s().companies_card,children:[(0,a.jsx)("img",{className:s().companies_img,src:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{style:{fontSize:"32px",color:"#48484a"},children:i||"tmp"}),_?x:g]})]})}},6481:function(n){n.exports={companies_container:"Companies_companies_container__X00Ov",companies_search_bar:"Companies_companies_search_bar____NQy",companies_search_bar_input:"Companies_companies_search_bar_input__mKIMR",companies_companies:"Companies_companies_companies__iC5ly",companies_card:"Companies_companies_card__ap9D3",companies_button:"Companies_companies_button__egR_Q",companies_img:"Companies_companies_img__ZbR9q"}}},function(n){n.O(0,[669,774,888,179],(function(){return e=4891,n(n.s=e);var e}));var e=n.O();_N_E=e}]);